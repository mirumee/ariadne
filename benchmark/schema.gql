scalar DateTime
scalar Markup

type Query {
  posts: [Post!]!
}

type Post {
  id: ID!
  thread: Thread!
  category: Category!
  poster: User
  posterName: String!
  postedAt: DateTime!
  content: Markup
  edits: Int!
  replies: [Post!]!
}

type Thread {
  id: ID!
  category: Category!
  title: String!
  slug: String!
  starter: User
  starterName: String!
  startedAt: DateTime!
  lastPoster: User
  lastPosterName: String!
  lastPostedAt: DateTime!
  isClosed: Boolean!
  isHidden: Boolean!
}

type Category {
  id: ID!
  name: String!
  color: String!
  parent: Category
}

type User {
  id: ID!
  handle: String!
  name: String!
  title: String
  email: String!
  group: Group!
  groups: [Group!]!
  avatar: [Avatar!]!
  status: UserStatus!
  posts: Int!
  joinedAt: DateTime!
}

type Group {
  id: ID!
  name: String!
  title: String
  roles: [Role!]!
}

type Avatar {
  size: Int!
  url: String!
}

enum Role {
  SEE
  BROWSE
  START
  REPLY
  MODERATE
}

enum UserStatus {
  OFFLINE
  ONLINE
  BANNED
}
